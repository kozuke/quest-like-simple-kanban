---
description: 
globs: 
alwaysApply: false
---
# Zustand çŠ¶æ…‹ç®¡ç†ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

## ğŸª ã‚¹ãƒˆã‚¢æ§‹æˆ

### ãƒ¡ã‚¤ãƒ³ã‚¹ãƒˆã‚¢
- [useTaskStore.ts](mdc:src/store/useTaskStore.ts) - ã‚¿ã‚¹ã‚¯ç®¡ç†ã®ä¸­æ ¸ã‚¹ãƒˆã‚¢
- [useReportStore.ts](mdc:src/store/useReportStore.ts) - æ—¥å ±ç”Ÿæˆãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†
- [useAudioStore.ts](mdc:src/store/useAudioStore.ts) - åŠ¹æœéŸ³è¨­å®š

### ã‚¹ãƒˆã‚¢è¨­è¨ˆåŸå‰‡
- **å˜ä¸€è²¬ä»»**: å„ã‚¹ãƒˆã‚¢ã¯æ˜ç¢ºãªè²¬ä»»ã‚’æŒã¤
- **ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«**: çŠ¶æ…‹ã®ç›´æ¥å¤‰æ›´ç¦æ­¢
- **å‹å®‰å…¨**: TypeScriptã®æ©æµã‚’æœ€å¤§æ´»ç”¨

## ğŸ“Š ã‚¿ã‚¹ã‚¯ã‚¹ãƒˆã‚¢ï¼ˆuseTaskStoreï¼‰

### çŠ¶æ…‹æ§‹é€ 
```typescript
interface TaskStore {
  tasks: Task[]           // å…¨ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ
  savedState: boolean     // ä¿å­˜çŠ¶æ…‹ãƒ•ãƒ©ã‚°
  
  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  addTask: (task: Omit<Task, 'id'>) => void
  updateTask: (id: string, updates: Partial<Task>) => void
  deleteTask: (id: string) => void
  moveTask: (id: string, newColumn: TaskColumn) => void
  reorderTasks: (activeId: string, overId: string) => void
  
  // æ°¸ç¶šåŒ–
  saveToLocalStorage: () => void
  loadFromLocalStorage: () => void
}
```

### ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ãƒ«ãƒ¼ãƒ«
- **æ˜ç¤ºçš„ä¿å­˜**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒSaveãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸã¨ãã®ã¿
- **localStorage**: ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ–ãƒ©ã‚¦ã‚¶å†…ã«ä¿å­˜
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: [src/utils/security.ts](mdc:src/utils/security.ts)ã§XSSå¯¾ç­–

## ğŸ“„ æ—¥å ±ã‚¹ãƒˆã‚¢ï¼ˆuseReportStoreï¼‰

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç†
```typescript
interface ReportStore {
  template: string        // Mustacheãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
  lastGenerated: string   // æœ€å¾Œã«ç”Ÿæˆã•ã‚ŒãŸæ—¥å ±
  
  updateTemplate: (template: string) => void
  generateReport: (tasks: Task[]) => string
  copyToClipboard: (text: string) => Promise<void>
}
```

### ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹
```mustache
# ä»Šæ—¥ã®ä½œæ¥­å ±å‘Šï¼ˆ{{date}}ï¼‰

## ğŸ“‹ å®Œäº†ã—ãŸã‚¿ã‚¹ã‚¯
{{#done}}
- {{title}}{{#description}} - {{description}}{{/description}}
{{/done}}

## ğŸš€ é€²è¡Œä¸­ã®ã‚¿ã‚¹ã‚¯  
{{#doing}}
- {{title}}{{#description}} - {{description}}{{/description}}
{{/doing}}

## ğŸ“ ä»Šå¾Œã®äºˆå®š
{{#backlog}}
- {{title}}{{#description}} - {{description}}{{/description}}
{{/backlog}}
```

## ğŸ”Š éŸ³å£°ã‚¹ãƒˆã‚¢ï¼ˆuseAudioStoreï¼‰

### åŠ¹æœéŸ³ç®¡ç†
```typescript
interface AudioStore {
  enabled: boolean
  volume: number
  
  playSound: (type: 'move' | 'complete' | 'add' | 'delete') => void
  setEnabled: (enabled: boolean) => void
  setVolume: (volume: number) => void
}
```

## ğŸ¯ ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®ä½¿ç”¨
```typescript
import { useTaskStore } from '../store/useTaskStore'

export const TaskCard = ({ task }: { task: Task }) => {
  const { updateTask, deleteTask } = useTaskStore()
  
  // çŠ¶æ…‹ã®éƒ¨åˆ†çš„ãªé¸æŠã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
  const savedState = useTaskStore(state => state.savedState)
  
  return (
    // ... ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…
  )
}
```

### ã‚¹ãƒˆã‚¢é–“ã®é€£æº
- **ç–çµåˆ**: ç›´æ¥çš„ãªä¾å­˜ã¯é¿ã‘ã‚‹
- **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•**: å¿…è¦ã«å¿œã˜ã¦ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã§æ©‹æ¸¡ã—
- **React Context**: è¤‡é›‘ãªå ´åˆã®ã¿æ¤œè¨
